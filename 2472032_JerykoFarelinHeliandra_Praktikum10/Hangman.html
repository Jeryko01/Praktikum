<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div class="container">
    <div class="image-section">
      <div class="containergem">
        <img id="Imagem" src="./img/full.png" alt="Hangman">
      </div>
      <div id="lives">Lives : 10</div>
    </div>

    <div class="game-section">
      <div id="word">_ _ _ _ _</div>
      <div id="clue">Clue: ...</div>
      <div id="inputContainer">
        <input type="text" id="guess" maxlength="1">
        <button id="guessBtn">Check</button>
      </div>
      <div id="message"></div>
    </div>
  </div>

<style>
    body {
      background-color: lightblue;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 85vh;
    }

    .container {
      display: flex;
      align-items: center;
      gap: 60px;
    }

    .image-section {
      text-align: center;
    }

    .containergem {
      width: 200px;
      height: 300px;
      overflow: hidden;
    }

    .coontainergem img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    #lives {
      font-size: 16px;
      font-weight: bold;
      margin-top: 10px;
    }

    .game-section {
      text-align: center;
      max-width: 400px;
    }

    #word {
      font-size: 30px;
      letter-spacing: 10px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    #clue {
      font-size: 16px;
      margin-bottom: 20px;
    }

    #message {
      font-size: 18px;
      font-weight: bold;
      margin-top: 15px;
    }

    .win {
      color: green;
    }

    .lose {
      color: red;
    }

    input[type="text"] {
      padding: 8px;
      font-size: 18px;
      width: 40px;
      text-align: center;
      margin-right: 10px;
    }

    button {
      padding: 8px 15px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>

  <script>
    var answers = ["PYTHON", "JAVASCRIPT", "TAILWIND", "REACT", "LARAVEL"];
    var clues = [
      "A versatile programming language named after a snake, loved for its simplicity.",
      "The language that brings interactivity to websites, often abbreviated as JS.",
      "A utility-first CSS framework for rapidly building custom designs.",
      "A JavaScript library for building dynamic user interfaces, created by Facebook.",
      "A PHP framework known for elegant syntax and robust web development tools."
    ];

    var answer = "";
    var answer_ = [];
    var lives = 10;

    var clueEl = document.getElementById("clue");
    var wordEl = document.getElementById("word");
    var livesEl = document.getElementById("lives");
    var messageEl = document.getElementById("message");
    var imageEl = document.getElementById("Imagem");
    var guessInput = document.getElementById("guess");
    var guessBtn = document.getElementById("guessBtn");
    var inputContainer = document.getElementById("inputContainer");

    function generate() {
      var index = Math.floor(Math.random() * answers.length);
      answer = answers[index];
      answer_ = [];
      for (var i = 0; i < answer.length; i++) {
        answer_.push("_");
      }
      lives = 10;
      messageEl.textContent = "";
      messageEl.className = "";
      inputContainer.style.display = "block";
      guessInput.disabled = false;
      guessBtn.disabled = false;
      updateDisplay();
    }

    function updateDisplay() {
      clueEl.textContent = "Clue: " + clues[answers.indexOf(answer)];
      wordEl.textContent = answer_.join(" ");
      livesEl.textContent = "Lives : " + lives;
      if (lives === 0) {
        imageEl.src = "./img/dead.png";
      } else {
        imageEl.src = "./img/full.png";
      }
    }

    function checkWin() {
      var stillEmpty = false;
      for (var i = 0; i < answer_.length; i++) {
        if (answer_[i] === "_") {
          stillEmpty = true;
        }
      }

      if (!stillEmpty) {
        messageEl.textContent = "Kamu Menang!";
        messageEl.className = "win";
        inputContainer.style.display = "none";
      } else {
        if (lives <= 0) {
          messageEl.textContent = "Kamu Kalah!";
          messageEl.className = "lose";
          wordEl.textContent = answer.split("").join(" ");
          inputContainer.style.display = "none";
        }
      }
    }

    function checkAnswer() {
      var letter = guessInput.value.toUpperCase();
      guessInput.value = "";

      if (letter === "") {
        return;
      }

      if (letter.length !== 1) {
        return;
      }

      if (lives <= 0) {
        return;
      }

      var stillEmpty = false;
      for (var i = 0; i < answer_.length; i++) {
        if (answer_[i] === "_") {
          stillEmpty = true;
        }
      }
      if (!stillEmpty) {
        return;
      }

      var found = false;
      for (var j = 0; j < answer.length; j++) {
        if (answer[j] === letter && answer_[j] === "_") {
          answer_[j] = letter;
          found = true;
        }
      }

      if (!found) {
        lives = lives - 1;
      }

      updateDisplay();
      checkWin();
    }

    window.addEventListener("load", generate);
    guessBtn.addEventListener("click", checkAnswer);
    guessInput.addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        checkAnswer();
      }
    });
  </script>
</body>
</html>
